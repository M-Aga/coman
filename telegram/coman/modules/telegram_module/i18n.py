# Lightweight i18n without external gettext runtime.
# You can extend this dictionary or wire real gettext later.
from typing import Dict

_STRINGS: Dict[str, Dict[str, str]] = {
    "ru": {
        "welcome": "Добро пожаловать! Выберите действие из меню:",
        "welcome_new": "Добро пожаловать! Выберите действие из меню:",
        "welcome_back": "Рады видеть вас снова!",
        "help_text": "Этот бот помогает быстро проверить состояние Coman и отправить текст на обработку.",
        "menu_hint": "Используйте кнопки ниже или команды /start, /help и /status.",
        "btn_get_data": "Получить данные",
        "btn_send_data": "Отправить данные",
        "btn_status": "Статус системы",
        "btn_about": "О боте",
        "btn_settings": "Настройки",
        "btn_admin": "Админ-панель",
        "enter_text": "Введите текст, который хотите отправить:",
        "sent_ok": "Данные успешно отправлены!",
        "send_err": "Ошибка при отправке данных",
        "fetch_err": "Ошибка при получении данных",
        "data_from_api": "Данные из API",
        "no_data": "Нет данных для отображения.",
        "about_text": "Этот бот — модуль Telegram проекта Coman.\nВерсия: o1\nРоль: интерфейс к ядру/оркестратору.",
        "settings": "Настройки:",
        "lang_ru": "Русский",
        "lang_en": "English",
        "back": "Назад",
        "lang_changed": "Язык изменён!",
        "choose_menu": "Пожалуйста, выберите действие из меню (/start).",
        "admin_welcome": "Добро пожаловать в админ-панель. Здесь можно управлять пользователями и интеграциями.",
        "not_authorized": "Недостаточно прав для выполнения действия.",
        "status_title": "Текущее состояние сервисов:",
        "status_ok": "✅ Основной сервис отвечает.",
        "status_error": "⚠️ Не удалось получить статус: {error}",
        "status_no_details": "Дополнительные данные отсутствуют.",
        "status_health": "Состояние",
        "status_details": "Дополнительные детали:",
        "status_info_error": "Не удалось получить информацию о ядре: {error}",
        "status_info_title": "Информация о ядре:",
        "response_details": "Ответ сервиса",
    },
    "en": {
        "welcome": "Welcome! Choose an action from the menu:",
        "welcome_new": "Welcome! Choose an action from the menu:",
        "welcome_back": "Good to see you again!",
        "help_text": "This bot lets you quickly check Coman's status and submit text for processing.",
        "menu_hint": "Use the buttons below or the /start, /help and /status commands.",
        "btn_get_data": "Get data",
        "btn_send_data": "Send data",
        "btn_status": "System status",
        "btn_about": "About",
        "btn_settings": "Settings",
        "btn_admin": "Admin Panel",
        "enter_text": "Type the text you want to send:",
        "sent_ok": "Data sent successfully!",
        "send_err": "Error sending data",
        "fetch_err": "Error fetching data",
        "data_from_api": "Data from API",
        "no_data": "No data available to display.",
        "about_text": "This bot is the Telegram module of the Coman project.\nVersion: o1\nRole: interface to the core/orchestrator.",
        "settings": "Settings:",
        "lang_ru": "Русский",
        "lang_en": "English",
        "back": "Back",
        "lang_changed": "Language changed!",
        "choose_menu": "Please choose an action from the menu (/start).",
        "admin_welcome": "Welcome to the admin panel. You can manage users and integrations here.",
        "not_authorized": "You are not authorized to perform this action.",
        "status_title": "Current service status:",
        "status_ok": "✅ Core service is reachable.",
        "status_error": "⚠️ Could not fetch status: {error}",
        "status_no_details": "No additional details were provided.",
        "status_health": "State",
        "status_details": "Extra details:",
        "status_info_error": "Failed to fetch core info: {error}",
        "status_info_title": "Core information:",
        "response_details": "Service response",
    }
}

def t(lang: str, key: str) -> str:
    lang = (lang or "ru").lower()
    if lang not in _STRINGS:
        lang = "en"
    table = _STRINGS[lang]
    return table.get(key, _STRINGS["en"].get(key, key))
